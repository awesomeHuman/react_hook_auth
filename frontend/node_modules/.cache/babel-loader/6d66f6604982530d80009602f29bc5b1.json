{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _format = _interopRequireDefault(require(\"date-fns/format\"));\n\nvar _2 = require(\"./\");\n\nvar DataManager = /*#__PURE__*/function () {\n  function DataManager() {\n    var _this = this;\n\n    (0, _classCallCheck2.default)(this, DataManager);\n    (0, _defineProperty2.default)(this, \"applyFilters\", false);\n    (0, _defineProperty2.default)(this, \"applySearch\", false);\n    (0, _defineProperty2.default)(this, \"applySort\", false);\n    (0, _defineProperty2.default)(this, \"currentPage\", 0);\n    (0, _defineProperty2.default)(this, \"detailPanelType\", \"multiple\");\n    (0, _defineProperty2.default)(this, \"lastDetailPanelRow\", undefined);\n    (0, _defineProperty2.default)(this, \"lastEditingRow\", undefined);\n    (0, _defineProperty2.default)(this, \"orderBy\", -1);\n    (0, _defineProperty2.default)(this, \"orderDirection\", \"\");\n    (0, _defineProperty2.default)(this, \"pageSize\", 5);\n    (0, _defineProperty2.default)(this, \"paging\", true);\n    (0, _defineProperty2.default)(this, \"parentFunc\", null);\n    (0, _defineProperty2.default)(this, \"searchText\", \"\");\n    (0, _defineProperty2.default)(this, \"selectedCount\", 0);\n    (0, _defineProperty2.default)(this, \"treefiedDataLength\", 0);\n    (0, _defineProperty2.default)(this, \"treeDataMaxLevel\", 0);\n    (0, _defineProperty2.default)(this, \"groupedDataLength\", 0);\n    (0, _defineProperty2.default)(this, \"defaultExpanded\", false);\n    (0, _defineProperty2.default)(this, \"bulkEditOpen\", false);\n    (0, _defineProperty2.default)(this, \"bulkEditChangedRows\", {});\n    (0, _defineProperty2.default)(this, \"data\", []);\n    (0, _defineProperty2.default)(this, \"columns\", []);\n    (0, _defineProperty2.default)(this, \"filteredData\", []);\n    (0, _defineProperty2.default)(this, \"searchedData\", []);\n    (0, _defineProperty2.default)(this, \"groupedData\", []);\n    (0, _defineProperty2.default)(this, \"treefiedData\", []);\n    (0, _defineProperty2.default)(this, \"sortedData\", []);\n    (0, _defineProperty2.default)(this, \"pagedData\", []);\n    (0, _defineProperty2.default)(this, \"renderData\", []);\n    (0, _defineProperty2.default)(this, \"filtered\", false);\n    (0, _defineProperty2.default)(this, \"searched\", false);\n    (0, _defineProperty2.default)(this, \"grouped\", false);\n    (0, _defineProperty2.default)(this, \"treefied\", false);\n    (0, _defineProperty2.default)(this, \"sorted\", false);\n    (0, _defineProperty2.default)(this, \"paged\", false);\n    (0, _defineProperty2.default)(this, \"rootGroupsIndex\", {});\n    (0, _defineProperty2.default)(this, \"startCellEditable\", function (rowData, columnDef) {\n      rowData.tableData.editCellList = [].concat((0, _toConsumableArray2.default)(rowData.tableData.editCellList || []), [columnDef]);\n    });\n    (0, _defineProperty2.default)(this, \"finishCellEditable\", function (rowData, columnDef) {\n      if (rowData.tableData.editCellList) {\n        var index = rowData.tableData.editCellList.findIndex(function (c) {\n          return c.tableData.id === columnDef.tableData.id;\n        });\n\n        if (index !== -1) {\n          rowData.tableData.editCellList.splice(index, 1);\n        }\n      }\n    });\n    (0, _defineProperty2.default)(this, \"clearBulkEditChangedRows\", function () {\n      _this.bulkEditChangedRows = {};\n    });\n    (0, _defineProperty2.default)(this, \"onBulkEditRowChanged\", function (oldData, newData) {\n      _this.bulkEditChangedRows[oldData.tableData.id] = {\n        oldData: oldData,\n        newData: newData\n      };\n    });\n    (0, _defineProperty2.default)(this, \"expandTreeForNodes\", function (data) {\n      data.forEach(function (row) {\n        var currentRow = row;\n\n        while (_this.parentFunc(currentRow, _this.data)) {\n          var parent = _this.parentFunc(currentRow, _this.data);\n\n          if (parent) {\n            parent.tableData.isTreeExpanded = true;\n          }\n\n          currentRow = parent;\n        }\n      });\n    });\n    (0, _defineProperty2.default)(this, \"findDataByPath\", function (renderData, path) {\n      if (_this.isDataType(\"tree\")) {\n        var node = path.reduce(function (result, current) {\n          return result && result.tableData && result.tableData.childRows && result.tableData.childRows[current];\n        }, {\n          tableData: {\n            childRows: renderData\n          }\n        });\n        return node;\n      } else {\n        var data = {\n          groups: renderData\n        };\n\n        var _node = path.reduce(function (result, current) {\n          if (result.groups.length > 0) {\n            return result.groups[current];\n          } else if (result.data) {\n            return result.data[current];\n          } else {\n            return undefined;\n          }\n        }, data);\n\n        return _node;\n      }\n    });\n    (0, _defineProperty2.default)(this, \"getFieldValue\", function (rowData, columnDef) {\n      var lookup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var value = typeof rowData[columnDef.field] !== \"undefined\" ? rowData[columnDef.field] : (0, _2.byString)(rowData, columnDef.field);\n\n      if (columnDef.lookup && lookup) {\n        value = columnDef.lookup[value];\n      }\n\n      return value;\n    });\n    (0, _defineProperty2.default)(this, \"getRenderState\", function () {\n      if (_this.filtered === false) {\n        _this.filterData();\n      }\n\n      if (_this.searched === false) {\n        _this.searchData();\n      }\n\n      if (_this.grouped === false && _this.isDataType(\"group\")) {\n        _this.groupData();\n      }\n\n      if (_this.treefied === false && _this.isDataType(\"tree\")) {\n        _this.treefyData();\n      }\n\n      if (_this.sorted === false) {\n        _this.sortData();\n      }\n\n      if (_this.paged === false) {\n        _this.pageData();\n      }\n\n      return {\n        columns: _this.columns,\n        currentPage: _this.currentPage,\n        data: _this.sortedData,\n        lastEditingRow: _this.lastEditingRow,\n        orderBy: _this.orderBy,\n        orderDirection: _this.orderDirection,\n        originalData: _this.data,\n        pageSize: _this.pageSize,\n        renderData: _this.pagedData,\n        searchText: _this.searchText,\n        selectedCount: _this.selectedCount,\n        treefiedDataLength: _this.treefiedDataLength,\n        treeDataMaxLevel: _this.treeDataMaxLevel,\n        groupedDataLength: _this.groupedDataLength\n      };\n    });\n    (0, _defineProperty2.default)(this, \"filterData\", function () {\n      _this.searched = _this.grouped = _this.treefied = _this.sorted = _this.paged = false;\n      _this.filteredData = (0, _toConsumableArray2.default)(_this.data);\n\n      if (_this.applyFilters) {\n        _this.columns.filter(function (columnDef) {\n          return columnDef.tableData.filterValue;\n        }).forEach(function (columnDef) {\n          var lookup = columnDef.lookup,\n              type = columnDef.type,\n              tableData = columnDef.tableData;\n\n          if (columnDef.customFilterAndSearch) {\n            _this.filteredData = _this.filteredData.filter(function (row) {\n              return !!columnDef.customFilterAndSearch(tableData.filterValue, row, columnDef);\n            });\n          } else {\n            if (lookup) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef, false);\n\n                return !tableData.filterValue || tableData.filterValue.length === 0 || tableData.filterValue.indexOf(value !== undefined && value !== null && value.toString()) > -1;\n              });\n            } else if (type === \"numeric\") {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value + \"\" === tableData.filterValue;\n              });\n            } else if (type === \"boolean\" && tableData.filterValue) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value && tableData.filterValue === \"checked\" || !value && tableData.filterValue === \"unchecked\";\n              });\n            } else if ([\"date\", \"datetime\"].includes(type)) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                var currentDate = value ? new Date(value) : null;\n\n                if (currentDate && currentDate.toString() !== \"Invalid Date\") {\n                  var selectedDate = tableData.filterValue;\n                  var currentDateToCompare = \"\";\n                  var selectedDateToCompare = \"\";\n\n                  if (type === \"date\") {\n                    currentDateToCompare = (0, _format.default)(currentDate, \"MM/dd/yyyy\");\n                    selectedDateToCompare = (0, _format.default)(selectedDate, \"MM/dd/yyyy\");\n                  } else if (type === \"datetime\") {\n                    currentDateToCompare = (0, _format.default)(currentDate, \"MM/dd/yyyy - HH:mm\");\n                    selectedDateToCompare = (0, _format.default)(selectedDate, \"MM/dd/yyyy - HH:mm\");\n                  }\n\n                  return currentDateToCompare === selectedDateToCompare;\n                }\n\n                return true;\n              });\n            } else if (type === \"time\") {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                var currentHour = value || null;\n\n                if (currentHour) {\n                  var selectedHour = tableData.filterValue;\n                  var currentHourToCompare = (0, _format.default)(selectedHour, \"HH:mm\");\n                  return currentHour === currentHourToCompare;\n                }\n\n                return true;\n              });\n            } else {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value && value.toString().toUpperCase().includes(tableData.filterValue.toUpperCase());\n              });\n            }\n          }\n        });\n      }\n\n      _this.filtered = true;\n    });\n    (0, _defineProperty2.default)(this, \"searchData\", function () {\n      _this.grouped = _this.treefied = _this.sorted = _this.paged = false;\n      _this.searchedData = (0, _toConsumableArray2.default)(_this.filteredData);\n\n      if (_this.searchText && _this.applySearch) {\n        var trimmedSearchText = _this.searchText.trim();\n\n        _this.searchedData = _this.searchedData.filter(function (row) {\n          return _this.columns.filter(function (columnDef) {\n            return columnDef.searchable === undefined ? !columnDef.hidden : columnDef.searchable;\n          }).some(function (columnDef) {\n            if (columnDef.customFilterAndSearch) {\n              return !!columnDef.customFilterAndSearch(trimmedSearchText, row, columnDef);\n            } else if (columnDef.field) {\n              var value = _this.getFieldValue(row, columnDef);\n\n              if (value) {\n                return value.toString().toUpperCase().includes(trimmedSearchText.toUpperCase());\n              }\n            }\n          });\n        });\n      }\n\n      _this.searched = true;\n    });\n  }\n\n  (0, _createClass2.default)(DataManager, [{\n    key: \"setData\",\n    value: function setData(data) {\n      var _this2 = this;\n\n      this.selectedCount = 0;\n      this.data = data.map(function (row, index) {\n        row.tableData = (0, _objectSpread2.default)({}, row.tableData, {\n          id: index\n        });\n\n        if (row.tableData.checked) {\n          _this2.selectedCount++;\n        }\n\n        return row;\n      });\n      this.filtered = false;\n    }\n  }, {\n    key: \"setColumns\",\n    value: function setColumns(columns) {\n      var undefinedWidthColumns = columns.filter(function (c) {\n        return c.width === undefined && c.columnDef ? c.columnDef.tableData.width === undefined : true && !c.hidden;\n      });\n      var usedWidth = [\"0px\"];\n      this.columns = columns.map(function (columnDef, index) {\n        columnDef.tableData = (0, _objectSpread2.default)({\n          columnOrder: index,\n          filterValue: columnDef.defaultFilter,\n          groupOrder: columnDef.defaultGroupOrder,\n          groupSort: columnDef.defaultGroupSort || \"asc\",\n          width: typeof columnDef.width === \"number\" ? columnDef.width + \"px\" : columnDef.width,\n          initialWidth: typeof columnDef.width === \"number\" ? columnDef.width + \"px\" : columnDef.width,\n          additionalWidth: 0\n        }, columnDef.tableData, {\n          id: index\n        });\n\n        if (columnDef.tableData.width !== undefined) {\n          usedWidth.push(columnDef.tableData.width);\n        }\n\n        return columnDef;\n      });\n      usedWidth = \"(\" + usedWidth.join(\" + \") + \")\";\n      undefinedWidthColumns.forEach(function (columnDef) {\n        columnDef.tableData.width = columnDef.tableData.initialWidth = \"calc((100% - \".concat(usedWidth, \") / \").concat(undefinedWidthColumns.length, \")\");\n      });\n    }\n  }, {\n    key: \"setDefaultExpanded\",\n    value: function setDefaultExpanded(expanded) {\n      this.defaultExpanded = expanded;\n    }\n  }, {\n    key: \"changeApplySearch\",\n    value: function changeApplySearch(applySearch) {\n      this.applySearch = applySearch;\n      this.searched = false;\n    }\n  }, {\n    key: \"changeApplyFilters\",\n    value: function changeApplyFilters(applyFilters) {\n      this.applyFilters = applyFilters;\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeApplySort\",\n    value: function changeApplySort(applySort) {\n      this.applySort = applySort;\n      this.sorted = false;\n    }\n  }, {\n    key: \"changePaging\",\n    value: function changePaging(paging) {\n      this.paging = paging;\n      this.paged = false;\n    }\n  }, {\n    key: \"changeCurrentPage\",\n    value: function changeCurrentPage(currentPage) {\n      this.currentPage = currentPage;\n      this.paged = false;\n    }\n  }, {\n    key: \"changePageSize\",\n    value: function changePageSize(pageSize) {\n      this.pageSize = pageSize;\n      this.paged = false;\n    }\n  }, {\n    key: \"changeParentFunc\",\n    value: function changeParentFunc(parentFunc) {\n      this.parentFunc = parentFunc;\n    }\n  }, {\n    key: \"changeFilterValue\",\n    value: function changeFilterValue(columnId, value) {\n      this.columns[columnId].tableData.filterValue = value;\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeRowSelected\",\n    value: function changeRowSelected(checked, path) {\n      var _this3 = this;\n\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.tableData.checked = checked;\n      this.selectedCount = this.selectedCount + (checked ? 1 : -1);\n\n      var checkChildRows = function checkChildRows(rowData) {\n        if (rowData.tableData.childRows) {\n          rowData.tableData.childRows.forEach(function (childRow) {\n            if (childRow.tableData.checked !== checked) {\n              childRow.tableData.checked = checked;\n              _this3.selectedCount = _this3.selectedCount + (checked ? 1 : -1);\n            }\n\n            checkChildRows(childRow);\n          });\n        }\n      };\n\n      checkChildRows(rowData);\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeDetailPanelVisibility\",\n    value: function changeDetailPanelVisibility(path, render) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n\n      if ((rowData.tableData.showDetailPanel || \"\").toString() === render.toString()) {\n        rowData.tableData.showDetailPanel = undefined;\n      } else {\n        rowData.tableData.showDetailPanel = render;\n      }\n\n      if (this.detailPanelType === \"single\" && this.lastDetailPanelRow && this.lastDetailPanelRow != rowData) {\n        this.lastDetailPanelRow.tableData.showDetailPanel = undefined;\n      }\n\n      this.lastDetailPanelRow = rowData;\n    }\n  }, {\n    key: \"changeGroupExpand\",\n    value: function changeGroupExpand(path) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.isExpanded = !rowData.isExpanded;\n    }\n  }, {\n    key: \"changeSearchText\",\n    value: function changeSearchText(searchText) {\n      this.searchText = searchText;\n      this.searched = false;\n      this.currentPage = 0;\n    }\n  }, {\n    key: \"changeRowEditing\",\n    value: function changeRowEditing(rowData, mode) {\n      if (rowData) {\n        rowData.tableData.editing = mode;\n\n        if (this.lastEditingRow && this.lastEditingRow != rowData) {\n          this.lastEditingRow.tableData.editing = undefined;\n        }\n\n        if (mode) {\n          this.lastEditingRow = rowData;\n        } else {\n          this.lastEditingRow = undefined;\n        }\n      } else if (this.lastEditingRow) {\n        this.lastEditingRow.tableData.editing = undefined;\n        this.lastEditingRow = undefined;\n      }\n    }\n  }, {\n    key: \"changeBulkEditOpen\",\n    value: function changeBulkEditOpen(bulkEditOpen) {\n      this.bulkEditOpen = bulkEditOpen;\n    }\n  }, {\n    key: \"changeAllSelected\",\n    value: function changeAllSelected(checked) {\n      var selectedCount = 0;\n\n      if (this.isDataType(\"group\")) {\n        var setCheck = function setCheck(data) {\n          data.forEach(function (element) {\n            if (element.groups.length > 0) {\n              setCheck(element.groups);\n            } else {\n              element.data.forEach(function (d) {\n                d.tableData.checked = d.tableData.disabled ? false : checked;\n                selectedCount++;\n              });\n            }\n          });\n        };\n\n        setCheck(this.groupedData);\n      } else {\n        this.searchedData.map(function (row) {\n          row.tableData.checked = row.tableData.disabled ? false : checked;\n          return row;\n        });\n        selectedCount = this.searchedData.length;\n      }\n\n      this.selectedCount = checked ? selectedCount : 0;\n    }\n  }, {\n    key: \"changeOrder\",\n    value: function changeOrder(orderBy, orderDirection) {\n      this.orderBy = orderBy;\n      this.orderDirection = orderDirection;\n      this.currentPage = 0;\n      this.sorted = false;\n    }\n  }, {\n    key: \"changeGroupOrder\",\n    value: function changeGroupOrder(columnId) {\n      var column = this.columns.find(function (c) {\n        return c.tableData.id === columnId;\n      });\n\n      if (column.tableData.groupSort === \"asc\") {\n        column.tableData.groupSort = \"desc\";\n      } else {\n        column.tableData.groupSort = \"asc\";\n      }\n\n      this.sorted = false;\n    }\n  }, {\n    key: \"changeColumnHidden\",\n    value: function changeColumnHidden(column, hidden) {\n      column.hidden = hidden;\n      column.hiddenByColumnsButton = hidden;\n    }\n  }, {\n    key: \"changeTreeExpand\",\n    value: function changeTreeExpand(path) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.tableData.isTreeExpanded = !rowData.tableData.isTreeExpanded;\n    }\n  }, {\n    key: \"changeDetailPanelType\",\n    value: function changeDetailPanelType(type) {\n      this.detailPanelType = type;\n    }\n  }, {\n    key: \"changeByDrag\",\n    value: function changeByDrag(result) {\n      var start = 0;\n      var groups = this.columns.filter(function (col) {\n        return col.tableData.groupOrder > -1;\n      }).sort(function (col1, col2) {\n        return col1.tableData.groupOrder - col2.tableData.groupOrder;\n      });\n\n      if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"groups\") {\n        start = Math.min(result.destination.index, result.source.index);\n        var end = Math.max(result.destination.index, result.source.index);\n        groups = groups.slice(start, end + 1);\n\n        if (result.destination.index < result.source.index) {\n          // Take last and add as first\n          var last = groups.pop();\n          groups.unshift(last);\n        } else {\n          // Take first and add as last\n          var _last = groups.shift();\n\n          groups.push(_last);\n        }\n      } else if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"headers\") {\n        var newGroup = this.columns.find(function (c) {\n          return c.tableData.id == result.draggableId;\n        });\n\n        if (newGroup.grouping === false || !newGroup.field) {\n          return;\n        }\n\n        groups.splice(result.destination.index, 0, newGroup);\n      } else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"groups\") {\n        var removeGroup = this.columns.find(function (c) {\n          return c.tableData.id == result.draggableId;\n        });\n        removeGroup.tableData.groupOrder = undefined;\n        groups.splice(result.source.index, 1);\n      } else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"headers\") {\n        start = Math.min(result.destination.index, result.source.index);\n\n        var _end = Math.max(result.destination.index, result.source.index); // get the effective start and end considering hidden columns\n\n\n        var sorted = this.columns.sort(function (a, b) {\n          return a.tableData.columnOrder - b.tableData.columnOrder;\n        }).filter(function (column) {\n          return column.tableData.groupOrder === undefined;\n        });\n        var numHiddenBeforeStart = 0;\n        var numVisibleBeforeStart = 0;\n\n        for (var i = 0; i < sorted.length && numVisibleBeforeStart <= start; i++) {\n          if (sorted[i].hidden) {\n            numHiddenBeforeStart++;\n          } else {\n            numVisibleBeforeStart++;\n          }\n        }\n\n        var effectiveStart = start + numHiddenBeforeStart;\n        var effectiveEnd = effectiveStart;\n\n        for (var numVisibleInRange = 0; numVisibleInRange < _end - start && effectiveEnd < sorted.length; effectiveEnd++) {\n          if (!sorted[effectiveEnd].hidden) {\n            numVisibleInRange++;\n          }\n        }\n\n        var colsToMov = sorted.slice(effectiveStart, effectiveEnd + 1);\n\n        if (result.destination.index < result.source.index) {\n          // Take last and add as first\n          var _last2 = colsToMov.pop();\n\n          colsToMov.unshift(_last2);\n        } else {\n          // Take first and add as last\n          var _last3 = colsToMov.shift();\n\n          colsToMov.push(_last3);\n        }\n\n        for (var _i = 0; _i < colsToMov.length; _i++) {\n          colsToMov[_i].tableData.columnOrder = effectiveStart + _i;\n        }\n\n        return;\n      } else {\n        return;\n      }\n\n      for (var _i2 = 0; _i2 < groups.length; _i2++) {\n        groups[_i2].tableData.groupOrder = start + _i2;\n      }\n\n      this.sorted = this.grouped = false;\n    }\n  }, {\n    key: \"onColumnResized\",\n    value: function onColumnResized(id, additionalWidth) {\n      var column = this.columns.find(function (c) {\n        return c.tableData.id === id;\n      });\n      if (!column) return;\n      var nextColumn = this.columns.find(function (c) {\n        return c.tableData.id === id + 1;\n      });\n      if (!nextColumn) return; // console.log(\"S i: \" + column.tableData.initialWidth);\n      // console.log(\"S a: \" + column.tableData.additionalWidth);\n      // console.log(\"S w: \" + column.tableData.width);\n\n      column.tableData.additionalWidth = additionalWidth;\n      column.tableData.width = \"calc(\".concat(column.tableData.initialWidth, \" + \").concat(column.tableData.additionalWidth, \"px)\"); // nextColumn.tableData.additionalWidth = -1 * additionalWidth;\n      // nextColumn.tableData.width = `calc(${nextColumn.tableData.initialWidth} + ${nextColumn.tableData.additionalWidth}px)`;\n      // console.log(\"F i: \" + column.tableData.initialWidth);\n      // console.log(\"F a: \" + column.tableData.additionalWidth);\n      // console.log(\"F w: \" + column.tableData.width);\n    }\n  }, {\n    key: \"findGroupByGroupPath\",\n    value: function findGroupByGroupPath(renderData, path) {\n      var data = {\n        groups: renderData,\n        groupsIndex: this.rootGroupsIndex\n      };\n      var node = path.reduce(function (result, current) {\n        if (!result) {\n          return undefined;\n        }\n\n        if (result.groupsIndex[current] !== undefined) {\n          return result.groups[result.groupsIndex[current]];\n        }\n\n        return undefined; // const group = result.groups.find(a => a.value === current);\n        // return group;\n      }, data);\n      return node;\n    }\n  }, {\n    key: \"isDataType\",\n    value: function isDataType(type) {\n      var dataType = \"normal\";\n\n      if (this.parentFunc) {\n        dataType = \"tree\";\n      } else if (this.columns.find(function (a) {\n        return a.tableData.groupOrder > -1;\n      })) {\n        dataType = \"group\";\n      }\n\n      return type === dataType;\n    }\n  }, {\n    key: \"sort\",\n    value: function sort(a, b, type) {\n      if (type === \"numeric\") {\n        return a - b;\n      } else {\n        if (a !== b) {\n          // to find nulls\n          if (!a) return -1;\n          if (!b) return 1;\n        }\n\n        return a < b ? -1 : a > b ? 1 : 0;\n      }\n    }\n  }, {\n    key: \"sortList\",\n    value: function sortList(list) {\n      var _this4 = this;\n\n      var columnDef = this.columns.find(function (_) {\n        return _.tableData.id === _this4.orderBy;\n      });\n      var result = list;\n\n      if (columnDef.customSort) {\n        if (this.orderDirection === \"desc\") {\n          result = list.sort(function (a, b) {\n            return columnDef.customSort(b, a, \"row\", \"desc\");\n          });\n        } else {\n          result = list.sort(function (a, b) {\n            return columnDef.customSort(a, b, \"row\");\n          });\n        }\n      } else {\n        result = list.sort(this.orderDirection === \"desc\" ? function (a, b) {\n          return _this4.sort(_this4.getFieldValue(b, columnDef), _this4.getFieldValue(a, columnDef), columnDef.type);\n        } : function (a, b) {\n          return _this4.sort(_this4.getFieldValue(a, columnDef), _this4.getFieldValue(b, columnDef), columnDef.type);\n        });\n      }\n\n      return result;\n    }\n  }, {\n    key: \"groupData\",\n    value: function groupData() {\n      var _this5 = this;\n\n      this.sorted = this.paged = false;\n      this.groupedDataLength = 0;\n      var tmpData = (0, _toConsumableArray2.default)(this.searchedData);\n      var groups = this.columns.filter(function (col) {\n        return col.tableData.groupOrder > -1;\n      }).sort(function (col1, col2) {\n        return col1.tableData.groupOrder - col2.tableData.groupOrder;\n      });\n      var subData = tmpData.reduce(function (result, currentRow) {\n        var object = result;\n        object = groups.reduce(function (o, colDef) {\n          var value = currentRow[colDef.field] || (0, _2.byString)(currentRow, colDef.field);\n          var group;\n\n          if (o.groupsIndex[value] !== undefined) {\n            group = o.groups[o.groupsIndex[value]];\n          }\n\n          if (!group) {\n            var path = [].concat((0, _toConsumableArray2.default)(o.path || []), [value]);\n            var oldGroup = _this5.findGroupByGroupPath(_this5.groupedData, path) || {\n              isExpanded: typeof _this5.defaultExpanded === \"boolean\" ? _this5.defaultExpanded : false\n            };\n            group = {\n              value: value,\n              groups: [],\n              groupsIndex: {},\n              data: [],\n              isExpanded: oldGroup.isExpanded,\n              path: path\n            };\n            o.groups.push(group);\n            o.groupsIndex[value] = o.groups.length - 1;\n          }\n\n          return group;\n        }, object);\n        object.data.push(currentRow);\n        _this5.groupedDataLength++;\n        return result;\n      }, {\n        groups: [],\n        groupsIndex: {}\n      });\n      this.groupedData = subData.groups;\n      this.grouped = true;\n      this.rootGroupsIndex = subData.groupsIndex;\n    }\n  }, {\n    key: \"treefyData\",\n    value: function treefyData() {\n      var _this6 = this;\n\n      this.sorted = this.paged = false;\n      this.data.forEach(function (a) {\n        return a.tableData.childRows = null;\n      });\n      this.treefiedData = [];\n      this.treefiedDataLength = 0;\n      this.treeDataMaxLevel = 0; // if filter or search is enabled, collapse the tree\n\n      if (this.searchText || this.columns.some(function (columnDef) {\n        return columnDef.tableData.filterValue;\n      })) {\n        this.data.forEach(function (row) {\n          row.tableData.isTreeExpanded = false;\n        }); // expand the tree for all nodes present after filtering and searching\n\n        this.expandTreeForNodes(this.searchedData);\n      }\n\n      var addRow = function addRow(rowData) {\n        rowData.tableData.markedForTreeRemove = false;\n\n        var parent = _this6.parentFunc(rowData, _this6.data);\n\n        if (parent) {\n          parent.tableData.childRows = parent.tableData.childRows || [];\n\n          if (!parent.tableData.childRows.includes(rowData)) {\n            parent.tableData.childRows.push(rowData);\n            _this6.treefiedDataLength++;\n          }\n\n          addRow(parent);\n          rowData.tableData.path = [].concat((0, _toConsumableArray2.default)(parent.tableData.path), [parent.tableData.childRows.length - 1]);\n          _this6.treeDataMaxLevel = Math.max(_this6.treeDataMaxLevel, rowData.tableData.path.length);\n        } else {\n          if (!_this6.treefiedData.includes(rowData)) {\n            _this6.treefiedData.push(rowData);\n\n            _this6.treefiedDataLength++;\n            rowData.tableData.path = [_this6.treefiedData.length - 1];\n          }\n        }\n      }; // Add all rows initially\n\n\n      this.data.forEach(function (rowData) {\n        addRow(rowData);\n      });\n\n      var markForTreeRemove = function markForTreeRemove(rowData) {\n        var pointer = _this6.treefiedData;\n        rowData.tableData.path.forEach(function (pathPart) {\n          if (pointer.tableData && pointer.tableData.childRows) {\n            pointer = pointer.tableData.childRows;\n          }\n\n          pointer = pointer[pathPart];\n        });\n        pointer.tableData.markedForTreeRemove = true;\n      };\n\n      var traverseChildrenAndUnmark = function traverseChildrenAndUnmark(rowData) {\n        if (rowData.tableData.childRows) {\n          rowData.tableData.childRows.forEach(function (row) {\n            traverseChildrenAndUnmark(row);\n          });\n        }\n\n        rowData.tableData.markedForTreeRemove = false;\n      }; // for all data rows, restore initial expand if no search term is available and remove items that shouldn't be there\n\n\n      this.data.forEach(function (rowData) {\n        if (!_this6.searchText && !_this6.columns.some(function (columnDef) {\n          return columnDef.tableData.filterValue;\n        })) {\n          if (rowData.tableData.isTreeExpanded === undefined) {\n            var isExpanded = typeof _this6.defaultExpanded === \"boolean\" ? _this6.defaultExpanded : _this6.defaultExpanded(rowData);\n            rowData.tableData.isTreeExpanded = isExpanded;\n          }\n        }\n\n        var hasSearchMatchedChildren = rowData.tableData.isTreeExpanded;\n\n        if (!hasSearchMatchedChildren && _this6.searchedData.indexOf(rowData) < 0) {\n          markForTreeRemove(rowData);\n        }\n      }); // preserve all children of nodes that are matched by search or filters\n\n      this.data.forEach(function (rowData) {\n        if (_this6.searchedData.indexOf(rowData) > -1) {\n          traverseChildrenAndUnmark(rowData);\n        }\n      });\n\n      var traverseTreeAndDeleteMarked = function traverseTreeAndDeleteMarked(rowDataArray) {\n        for (var i = rowDataArray.length - 1; i >= 0; i--) {\n          var item = rowDataArray[i];\n\n          if (item.tableData.childRows) {\n            traverseTreeAndDeleteMarked(item.tableData.childRows);\n          }\n\n          if (item.tableData.markedForTreeRemove) rowDataArray.splice(i, 1);\n        }\n      };\n\n      traverseTreeAndDeleteMarked(this.treefiedData);\n      this.treefied = true;\n    }\n  }, {\n    key: \"sortData\",\n    value: function sortData() {\n      var _this7 = this;\n\n      this.paged = false;\n\n      if (this.isDataType(\"group\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.groupedData);\n        var groups = this.columns.filter(function (col) {\n          return col.tableData.groupOrder > -1;\n        }).sort(function (col1, col2) {\n          return col1.tableData.groupOrder - col2.tableData.groupOrder;\n        });\n\n        var sortGroups = function sortGroups(list, columnDef) {\n          if (columnDef.customSort) {\n            return list.sort(columnDef.tableData.groupSort === \"desc\" ? function (a, b) {\n              return columnDef.customSort(b.value, a.value, \"group\");\n            } : function (a, b) {\n              return columnDef.customSort(a.value, b.value, \"group\");\n            });\n          } else {\n            return list.sort(columnDef.tableData.groupSort === \"desc\" ? function (a, b) {\n              return _this7.sort(b.value, a.value, columnDef.type);\n            } : function (a, b) {\n              return _this7.sort(a.value, b.value, columnDef.type);\n            });\n          }\n        };\n\n        this.sortedData = sortGroups(this.sortedData, groups[0]);\n\n        var sortGroupData = function sortGroupData(list, level) {\n          list.forEach(function (element) {\n            if (element.groups.length > 0) {\n              var column = groups[level];\n              element.groups = sortGroups(element.groups, column);\n              sortGroupData(element.groups, level + 1);\n            } else {\n              if (_this7.orderBy >= 0 && _this7.orderDirection) {\n                element.data = _this7.sortList(element.data);\n              }\n            }\n          });\n        };\n\n        sortGroupData(this.sortedData, 1);\n      } else if (this.isDataType(\"tree\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.treefiedData);\n\n        if (this.orderBy != -1) {\n          this.sortedData = this.sortList(this.sortedData);\n\n          var sortTree = function sortTree(list) {\n            list.forEach(function (item) {\n              if (item.tableData.childRows) {\n                item.tableData.childRows = _this7.sortList(item.tableData.childRows);\n                sortTree(item.tableData.childRows);\n              }\n            });\n          };\n\n          sortTree(this.sortedData);\n        }\n      } else if (this.isDataType(\"normal\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.searchedData);\n\n        if (this.orderBy != -1 && this.applySort) {\n          this.sortedData = this.sortList(this.sortedData);\n        }\n      }\n\n      this.sorted = true;\n    }\n  }, {\n    key: \"pageData\",\n    value: function pageData() {\n      this.pagedData = (0, _toConsumableArray2.default)(this.sortedData);\n\n      if (this.paging) {\n        var startIndex = this.currentPage * this.pageSize;\n        var endIndex = startIndex + this.pageSize;\n        this.pagedData = this.pagedData.slice(startIndex, endIndex);\n      }\n\n      this.paged = true;\n    }\n  }]);\n  return DataManager;\n}();\n\nexports.default = DataManager;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_objectSpread2","_toConsumableArray2","_classCallCheck2","_createClass2","_defineProperty2","_format","_2","DataManager","_this","undefined","rowData","columnDef","tableData","editCellList","concat","index","findIndex","c","id","splice","bulkEditChangedRows","oldData","newData","data","forEach","row","currentRow","parentFunc","parent","isTreeExpanded","renderData","path","isDataType","node","reduce","result","current","childRows","groups","_node","length","lookup","arguments","field","byString","filtered","filterData","searched","searchData","grouped","groupData","treefied","treefyData","sorted","sortData","paged","pageData","columns","currentPage","sortedData","lastEditingRow","orderBy","orderDirection","originalData","pageSize","pagedData","searchText","selectedCount","treefiedDataLength","treeDataMaxLevel","groupedDataLength","filteredData","applyFilters","filter","filterValue","type","customFilterAndSearch","getFieldValue","indexOf","toString","includes","currentDate","Date","selectedDate","currentDateToCompare","selectedDateToCompare","currentHour","selectedHour","currentHourToCompare","toUpperCase","searchedData","applySearch","trimmedSearchText","trim","searchable","hidden","some","key","setData","_this2","map","checked","setColumns","undefinedWidthColumns","width","usedWidth","columnOrder","defaultFilter","groupOrder","defaultGroupOrder","groupSort","defaultGroupSort","initialWidth","additionalWidth","push","join","setDefaultExpanded","expanded","defaultExpanded","changeApplySearch","changeApplyFilters","changeApplySort","applySort","changePaging","paging","changeCurrentPage","changePageSize","changeParentFunc","changeFilterValue","columnId","changeRowSelected","_this3","findDataByPath","checkChildRows","childRow","changeDetailPanelVisibility","render","showDetailPanel","detailPanelType","lastDetailPanelRow","changeGroupExpand","isExpanded","changeSearchText","changeRowEditing","mode","editing","changeBulkEditOpen","bulkEditOpen","changeAllSelected","setCheck","element","d","disabled","groupedData","changeOrder","changeGroupOrder","column","find","changeColumnHidden","hiddenByColumnsButton","changeTreeExpand","changeDetailPanelType","changeByDrag","start","col","sort","col1","col2","destination","droppableId","source","Math","min","end","max","slice","last","pop","unshift","_last","shift","newGroup","draggableId","grouping","removeGroup","_end","a","b","numHiddenBeforeStart","numVisibleBeforeStart","i","effectiveStart","effectiveEnd","numVisibleInRange","colsToMov","_last2","_last3","_i","_i2","onColumnResized","nextColumn","findGroupByGroupPath","groupsIndex","rootGroupsIndex","dataType","sortList","list","_this4","_","customSort","_this5","tmpData","subData","object","o","colDef","group","oldGroup","_this6","treefiedData","expandTreeForNodes","addRow","markedForTreeRemove","markForTreeRemove","pointer","pathPart","traverseChildrenAndUnmark","hasSearchMatchedChildren","traverseTreeAndDeleteMarked","rowDataArray","item","_this7","sortGroups","sortGroupData","level","sortTree","startIndex","endIndex"],"sources":["E:/practice project/react-component/contact-book-mern/frontend/node_modules/material-table/dist/utils/data-manager.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _format = _interopRequireDefault(require(\"date-fns/format\"));\n\nvar _2 = require(\"./\");\n\nvar DataManager = /*#__PURE__*/function () {\n  function DataManager() {\n    var _this = this;\n\n    (0, _classCallCheck2.default)(this, DataManager);\n    (0, _defineProperty2.default)(this, \"applyFilters\", false);\n    (0, _defineProperty2.default)(this, \"applySearch\", false);\n    (0, _defineProperty2.default)(this, \"applySort\", false);\n    (0, _defineProperty2.default)(this, \"currentPage\", 0);\n    (0, _defineProperty2.default)(this, \"detailPanelType\", \"multiple\");\n    (0, _defineProperty2.default)(this, \"lastDetailPanelRow\", undefined);\n    (0, _defineProperty2.default)(this, \"lastEditingRow\", undefined);\n    (0, _defineProperty2.default)(this, \"orderBy\", -1);\n    (0, _defineProperty2.default)(this, \"orderDirection\", \"\");\n    (0, _defineProperty2.default)(this, \"pageSize\", 5);\n    (0, _defineProperty2.default)(this, \"paging\", true);\n    (0, _defineProperty2.default)(this, \"parentFunc\", null);\n    (0, _defineProperty2.default)(this, \"searchText\", \"\");\n    (0, _defineProperty2.default)(this, \"selectedCount\", 0);\n    (0, _defineProperty2.default)(this, \"treefiedDataLength\", 0);\n    (0, _defineProperty2.default)(this, \"treeDataMaxLevel\", 0);\n    (0, _defineProperty2.default)(this, \"groupedDataLength\", 0);\n    (0, _defineProperty2.default)(this, \"defaultExpanded\", false);\n    (0, _defineProperty2.default)(this, \"bulkEditOpen\", false);\n    (0, _defineProperty2.default)(this, \"bulkEditChangedRows\", {});\n    (0, _defineProperty2.default)(this, \"data\", []);\n    (0, _defineProperty2.default)(this, \"columns\", []);\n    (0, _defineProperty2.default)(this, \"filteredData\", []);\n    (0, _defineProperty2.default)(this, \"searchedData\", []);\n    (0, _defineProperty2.default)(this, \"groupedData\", []);\n    (0, _defineProperty2.default)(this, \"treefiedData\", []);\n    (0, _defineProperty2.default)(this, \"sortedData\", []);\n    (0, _defineProperty2.default)(this, \"pagedData\", []);\n    (0, _defineProperty2.default)(this, \"renderData\", []);\n    (0, _defineProperty2.default)(this, \"filtered\", false);\n    (0, _defineProperty2.default)(this, \"searched\", false);\n    (0, _defineProperty2.default)(this, \"grouped\", false);\n    (0, _defineProperty2.default)(this, \"treefied\", false);\n    (0, _defineProperty2.default)(this, \"sorted\", false);\n    (0, _defineProperty2.default)(this, \"paged\", false);\n    (0, _defineProperty2.default)(this, \"rootGroupsIndex\", {});\n    (0, _defineProperty2.default)(this, \"startCellEditable\", function (rowData, columnDef) {\n      rowData.tableData.editCellList = [].concat((0, _toConsumableArray2.default)(rowData.tableData.editCellList || []), [columnDef]);\n    });\n    (0, _defineProperty2.default)(this, \"finishCellEditable\", function (rowData, columnDef) {\n      if (rowData.tableData.editCellList) {\n        var index = rowData.tableData.editCellList.findIndex(function (c) {\n          return c.tableData.id === columnDef.tableData.id;\n        });\n\n        if (index !== -1) {\n          rowData.tableData.editCellList.splice(index, 1);\n        }\n      }\n    });\n    (0, _defineProperty2.default)(this, \"clearBulkEditChangedRows\", function () {\n      _this.bulkEditChangedRows = {};\n    });\n    (0, _defineProperty2.default)(this, \"onBulkEditRowChanged\", function (oldData, newData) {\n      _this.bulkEditChangedRows[oldData.tableData.id] = {\n        oldData: oldData,\n        newData: newData\n      };\n    });\n    (0, _defineProperty2.default)(this, \"expandTreeForNodes\", function (data) {\n      data.forEach(function (row) {\n        var currentRow = row;\n\n        while (_this.parentFunc(currentRow, _this.data)) {\n          var parent = _this.parentFunc(currentRow, _this.data);\n\n          if (parent) {\n            parent.tableData.isTreeExpanded = true;\n          }\n\n          currentRow = parent;\n        }\n      });\n    });\n    (0, _defineProperty2.default)(this, \"findDataByPath\", function (renderData, path) {\n      if (_this.isDataType(\"tree\")) {\n        var node = path.reduce(function (result, current) {\n          return result && result.tableData && result.tableData.childRows && result.tableData.childRows[current];\n        }, {\n          tableData: {\n            childRows: renderData\n          }\n        });\n        return node;\n      } else {\n        var data = {\n          groups: renderData\n        };\n\n        var _node = path.reduce(function (result, current) {\n          if (result.groups.length > 0) {\n            return result.groups[current];\n          } else if (result.data) {\n            return result.data[current];\n          } else {\n            return undefined;\n          }\n        }, data);\n\n        return _node;\n      }\n    });\n    (0, _defineProperty2.default)(this, \"getFieldValue\", function (rowData, columnDef) {\n      var lookup = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n      var value = typeof rowData[columnDef.field] !== \"undefined\" ? rowData[columnDef.field] : (0, _2.byString)(rowData, columnDef.field);\n\n      if (columnDef.lookup && lookup) {\n        value = columnDef.lookup[value];\n      }\n\n      return value;\n    });\n    (0, _defineProperty2.default)(this, \"getRenderState\", function () {\n      if (_this.filtered === false) {\n        _this.filterData();\n      }\n\n      if (_this.searched === false) {\n        _this.searchData();\n      }\n\n      if (_this.grouped === false && _this.isDataType(\"group\")) {\n        _this.groupData();\n      }\n\n      if (_this.treefied === false && _this.isDataType(\"tree\")) {\n        _this.treefyData();\n      }\n\n      if (_this.sorted === false) {\n        _this.sortData();\n      }\n\n      if (_this.paged === false) {\n        _this.pageData();\n      }\n\n      return {\n        columns: _this.columns,\n        currentPage: _this.currentPage,\n        data: _this.sortedData,\n        lastEditingRow: _this.lastEditingRow,\n        orderBy: _this.orderBy,\n        orderDirection: _this.orderDirection,\n        originalData: _this.data,\n        pageSize: _this.pageSize,\n        renderData: _this.pagedData,\n        searchText: _this.searchText,\n        selectedCount: _this.selectedCount,\n        treefiedDataLength: _this.treefiedDataLength,\n        treeDataMaxLevel: _this.treeDataMaxLevel,\n        groupedDataLength: _this.groupedDataLength\n      };\n    });\n    (0, _defineProperty2.default)(this, \"filterData\", function () {\n      _this.searched = _this.grouped = _this.treefied = _this.sorted = _this.paged = false;\n      _this.filteredData = (0, _toConsumableArray2.default)(_this.data);\n\n      if (_this.applyFilters) {\n        _this.columns.filter(function (columnDef) {\n          return columnDef.tableData.filterValue;\n        }).forEach(function (columnDef) {\n          var lookup = columnDef.lookup,\n              type = columnDef.type,\n              tableData = columnDef.tableData;\n\n          if (columnDef.customFilterAndSearch) {\n            _this.filteredData = _this.filteredData.filter(function (row) {\n              return !!columnDef.customFilterAndSearch(tableData.filterValue, row, columnDef);\n            });\n          } else {\n            if (lookup) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef, false);\n\n                return !tableData.filterValue || tableData.filterValue.length === 0 || tableData.filterValue.indexOf(value !== undefined && value !== null && value.toString()) > -1;\n              });\n            } else if (type === \"numeric\") {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value + \"\" === tableData.filterValue;\n              });\n            } else if (type === \"boolean\" && tableData.filterValue) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value && tableData.filterValue === \"checked\" || !value && tableData.filterValue === \"unchecked\";\n              });\n            } else if ([\"date\", \"datetime\"].includes(type)) {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                var currentDate = value ? new Date(value) : null;\n\n                if (currentDate && currentDate.toString() !== \"Invalid Date\") {\n                  var selectedDate = tableData.filterValue;\n                  var currentDateToCompare = \"\";\n                  var selectedDateToCompare = \"\";\n\n                  if (type === \"date\") {\n                    currentDateToCompare = (0, _format.default)(currentDate, \"MM/dd/yyyy\");\n                    selectedDateToCompare = (0, _format.default)(selectedDate, \"MM/dd/yyyy\");\n                  } else if (type === \"datetime\") {\n                    currentDateToCompare = (0, _format.default)(currentDate, \"MM/dd/yyyy - HH:mm\");\n                    selectedDateToCompare = (0, _format.default)(selectedDate, \"MM/dd/yyyy - HH:mm\");\n                  }\n\n                  return currentDateToCompare === selectedDateToCompare;\n                }\n\n                return true;\n              });\n            } else if (type === \"time\") {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                var currentHour = value || null;\n\n                if (currentHour) {\n                  var selectedHour = tableData.filterValue;\n                  var currentHourToCompare = (0, _format.default)(selectedHour, \"HH:mm\");\n                  return currentHour === currentHourToCompare;\n                }\n\n                return true;\n              });\n            } else {\n              _this.filteredData = _this.filteredData.filter(function (row) {\n                var value = _this.getFieldValue(row, columnDef);\n\n                return value && value.toString().toUpperCase().includes(tableData.filterValue.toUpperCase());\n              });\n            }\n          }\n        });\n      }\n\n      _this.filtered = true;\n    });\n    (0, _defineProperty2.default)(this, \"searchData\", function () {\n      _this.grouped = _this.treefied = _this.sorted = _this.paged = false;\n      _this.searchedData = (0, _toConsumableArray2.default)(_this.filteredData);\n\n      if (_this.searchText && _this.applySearch) {\n        var trimmedSearchText = _this.searchText.trim();\n\n        _this.searchedData = _this.searchedData.filter(function (row) {\n          return _this.columns.filter(function (columnDef) {\n            return columnDef.searchable === undefined ? !columnDef.hidden : columnDef.searchable;\n          }).some(function (columnDef) {\n            if (columnDef.customFilterAndSearch) {\n              return !!columnDef.customFilterAndSearch(trimmedSearchText, row, columnDef);\n            } else if (columnDef.field) {\n              var value = _this.getFieldValue(row, columnDef);\n\n              if (value) {\n                return value.toString().toUpperCase().includes(trimmedSearchText.toUpperCase());\n              }\n            }\n          });\n        });\n      }\n\n      _this.searched = true;\n    });\n  }\n\n  (0, _createClass2.default)(DataManager, [{\n    key: \"setData\",\n    value: function setData(data) {\n      var _this2 = this;\n\n      this.selectedCount = 0;\n      this.data = data.map(function (row, index) {\n        row.tableData = (0, _objectSpread2.default)({}, row.tableData, {\n          id: index\n        });\n\n        if (row.tableData.checked) {\n          _this2.selectedCount++;\n        }\n\n        return row;\n      });\n      this.filtered = false;\n    }\n  }, {\n    key: \"setColumns\",\n    value: function setColumns(columns) {\n      var undefinedWidthColumns = columns.filter(function (c) {\n        return c.width === undefined && c.columnDef ? c.columnDef.tableData.width === undefined : true && !c.hidden;\n      });\n      var usedWidth = [\"0px\"];\n      this.columns = columns.map(function (columnDef, index) {\n        columnDef.tableData = (0, _objectSpread2.default)({\n          columnOrder: index,\n          filterValue: columnDef.defaultFilter,\n          groupOrder: columnDef.defaultGroupOrder,\n          groupSort: columnDef.defaultGroupSort || \"asc\",\n          width: typeof columnDef.width === \"number\" ? columnDef.width + \"px\" : columnDef.width,\n          initialWidth: typeof columnDef.width === \"number\" ? columnDef.width + \"px\" : columnDef.width,\n          additionalWidth: 0\n        }, columnDef.tableData, {\n          id: index\n        });\n\n        if (columnDef.tableData.width !== undefined) {\n          usedWidth.push(columnDef.tableData.width);\n        }\n\n        return columnDef;\n      });\n      usedWidth = \"(\" + usedWidth.join(\" + \") + \")\";\n      undefinedWidthColumns.forEach(function (columnDef) {\n        columnDef.tableData.width = columnDef.tableData.initialWidth = \"calc((100% - \".concat(usedWidth, \") / \").concat(undefinedWidthColumns.length, \")\");\n      });\n    }\n  }, {\n    key: \"setDefaultExpanded\",\n    value: function setDefaultExpanded(expanded) {\n      this.defaultExpanded = expanded;\n    }\n  }, {\n    key: \"changeApplySearch\",\n    value: function changeApplySearch(applySearch) {\n      this.applySearch = applySearch;\n      this.searched = false;\n    }\n  }, {\n    key: \"changeApplyFilters\",\n    value: function changeApplyFilters(applyFilters) {\n      this.applyFilters = applyFilters;\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeApplySort\",\n    value: function changeApplySort(applySort) {\n      this.applySort = applySort;\n      this.sorted = false;\n    }\n  }, {\n    key: \"changePaging\",\n    value: function changePaging(paging) {\n      this.paging = paging;\n      this.paged = false;\n    }\n  }, {\n    key: \"changeCurrentPage\",\n    value: function changeCurrentPage(currentPage) {\n      this.currentPage = currentPage;\n      this.paged = false;\n    }\n  }, {\n    key: \"changePageSize\",\n    value: function changePageSize(pageSize) {\n      this.pageSize = pageSize;\n      this.paged = false;\n    }\n  }, {\n    key: \"changeParentFunc\",\n    value: function changeParentFunc(parentFunc) {\n      this.parentFunc = parentFunc;\n    }\n  }, {\n    key: \"changeFilterValue\",\n    value: function changeFilterValue(columnId, value) {\n      this.columns[columnId].tableData.filterValue = value;\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeRowSelected\",\n    value: function changeRowSelected(checked, path) {\n      var _this3 = this;\n\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.tableData.checked = checked;\n      this.selectedCount = this.selectedCount + (checked ? 1 : -1);\n\n      var checkChildRows = function checkChildRows(rowData) {\n        if (rowData.tableData.childRows) {\n          rowData.tableData.childRows.forEach(function (childRow) {\n            if (childRow.tableData.checked !== checked) {\n              childRow.tableData.checked = checked;\n              _this3.selectedCount = _this3.selectedCount + (checked ? 1 : -1);\n            }\n\n            checkChildRows(childRow);\n          });\n        }\n      };\n\n      checkChildRows(rowData);\n      this.filtered = false;\n    }\n  }, {\n    key: \"changeDetailPanelVisibility\",\n    value: function changeDetailPanelVisibility(path, render) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n\n      if ((rowData.tableData.showDetailPanel || \"\").toString() === render.toString()) {\n        rowData.tableData.showDetailPanel = undefined;\n      } else {\n        rowData.tableData.showDetailPanel = render;\n      }\n\n      if (this.detailPanelType === \"single\" && this.lastDetailPanelRow && this.lastDetailPanelRow != rowData) {\n        this.lastDetailPanelRow.tableData.showDetailPanel = undefined;\n      }\n\n      this.lastDetailPanelRow = rowData;\n    }\n  }, {\n    key: \"changeGroupExpand\",\n    value: function changeGroupExpand(path) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.isExpanded = !rowData.isExpanded;\n    }\n  }, {\n    key: \"changeSearchText\",\n    value: function changeSearchText(searchText) {\n      this.searchText = searchText;\n      this.searched = false;\n      this.currentPage = 0;\n    }\n  }, {\n    key: \"changeRowEditing\",\n    value: function changeRowEditing(rowData, mode) {\n      if (rowData) {\n        rowData.tableData.editing = mode;\n\n        if (this.lastEditingRow && this.lastEditingRow != rowData) {\n          this.lastEditingRow.tableData.editing = undefined;\n        }\n\n        if (mode) {\n          this.lastEditingRow = rowData;\n        } else {\n          this.lastEditingRow = undefined;\n        }\n      } else if (this.lastEditingRow) {\n        this.lastEditingRow.tableData.editing = undefined;\n        this.lastEditingRow = undefined;\n      }\n    }\n  }, {\n    key: \"changeBulkEditOpen\",\n    value: function changeBulkEditOpen(bulkEditOpen) {\n      this.bulkEditOpen = bulkEditOpen;\n    }\n  }, {\n    key: \"changeAllSelected\",\n    value: function changeAllSelected(checked) {\n      var selectedCount = 0;\n\n      if (this.isDataType(\"group\")) {\n        var setCheck = function setCheck(data) {\n          data.forEach(function (element) {\n            if (element.groups.length > 0) {\n              setCheck(element.groups);\n            } else {\n              element.data.forEach(function (d) {\n                d.tableData.checked = d.tableData.disabled ? false : checked;\n                selectedCount++;\n              });\n            }\n          });\n        };\n\n        setCheck(this.groupedData);\n      } else {\n        this.searchedData.map(function (row) {\n          row.tableData.checked = row.tableData.disabled ? false : checked;\n          return row;\n        });\n        selectedCount = this.searchedData.length;\n      }\n\n      this.selectedCount = checked ? selectedCount : 0;\n    }\n  }, {\n    key: \"changeOrder\",\n    value: function changeOrder(orderBy, orderDirection) {\n      this.orderBy = orderBy;\n      this.orderDirection = orderDirection;\n      this.currentPage = 0;\n      this.sorted = false;\n    }\n  }, {\n    key: \"changeGroupOrder\",\n    value: function changeGroupOrder(columnId) {\n      var column = this.columns.find(function (c) {\n        return c.tableData.id === columnId;\n      });\n\n      if (column.tableData.groupSort === \"asc\") {\n        column.tableData.groupSort = \"desc\";\n      } else {\n        column.tableData.groupSort = \"asc\";\n      }\n\n      this.sorted = false;\n    }\n  }, {\n    key: \"changeColumnHidden\",\n    value: function changeColumnHidden(column, hidden) {\n      column.hidden = hidden;\n      column.hiddenByColumnsButton = hidden;\n    }\n  }, {\n    key: \"changeTreeExpand\",\n    value: function changeTreeExpand(path) {\n      var rowData = this.findDataByPath(this.sortedData, path);\n      rowData.tableData.isTreeExpanded = !rowData.tableData.isTreeExpanded;\n    }\n  }, {\n    key: \"changeDetailPanelType\",\n    value: function changeDetailPanelType(type) {\n      this.detailPanelType = type;\n    }\n  }, {\n    key: \"changeByDrag\",\n    value: function changeByDrag(result) {\n      var start = 0;\n      var groups = this.columns.filter(function (col) {\n        return col.tableData.groupOrder > -1;\n      }).sort(function (col1, col2) {\n        return col1.tableData.groupOrder - col2.tableData.groupOrder;\n      });\n\n      if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"groups\") {\n        start = Math.min(result.destination.index, result.source.index);\n        var end = Math.max(result.destination.index, result.source.index);\n        groups = groups.slice(start, end + 1);\n\n        if (result.destination.index < result.source.index) {\n          // Take last and add as first\n          var last = groups.pop();\n          groups.unshift(last);\n        } else {\n          // Take first and add as last\n          var _last = groups.shift();\n\n          groups.push(_last);\n        }\n      } else if (result.destination.droppableId === \"groups\" && result.source.droppableId === \"headers\") {\n        var newGroup = this.columns.find(function (c) {\n          return c.tableData.id == result.draggableId;\n        });\n\n        if (newGroup.grouping === false || !newGroup.field) {\n          return;\n        }\n\n        groups.splice(result.destination.index, 0, newGroup);\n      } else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"groups\") {\n        var removeGroup = this.columns.find(function (c) {\n          return c.tableData.id == result.draggableId;\n        });\n        removeGroup.tableData.groupOrder = undefined;\n        groups.splice(result.source.index, 1);\n      } else if (result.destination.droppableId === \"headers\" && result.source.droppableId === \"headers\") {\n        start = Math.min(result.destination.index, result.source.index);\n\n        var _end = Math.max(result.destination.index, result.source.index); // get the effective start and end considering hidden columns\n\n\n        var sorted = this.columns.sort(function (a, b) {\n          return a.tableData.columnOrder - b.tableData.columnOrder;\n        }).filter(function (column) {\n          return column.tableData.groupOrder === undefined;\n        });\n        var numHiddenBeforeStart = 0;\n        var numVisibleBeforeStart = 0;\n\n        for (var i = 0; i < sorted.length && numVisibleBeforeStart <= start; i++) {\n          if (sorted[i].hidden) {\n            numHiddenBeforeStart++;\n          } else {\n            numVisibleBeforeStart++;\n          }\n        }\n\n        var effectiveStart = start + numHiddenBeforeStart;\n        var effectiveEnd = effectiveStart;\n\n        for (var numVisibleInRange = 0; numVisibleInRange < _end - start && effectiveEnd < sorted.length; effectiveEnd++) {\n          if (!sorted[effectiveEnd].hidden) {\n            numVisibleInRange++;\n          }\n        }\n\n        var colsToMov = sorted.slice(effectiveStart, effectiveEnd + 1);\n\n        if (result.destination.index < result.source.index) {\n          // Take last and add as first\n          var _last2 = colsToMov.pop();\n\n          colsToMov.unshift(_last2);\n        } else {\n          // Take first and add as last\n          var _last3 = colsToMov.shift();\n\n          colsToMov.push(_last3);\n        }\n\n        for (var _i = 0; _i < colsToMov.length; _i++) {\n          colsToMov[_i].tableData.columnOrder = effectiveStart + _i;\n        }\n\n        return;\n      } else {\n        return;\n      }\n\n      for (var _i2 = 0; _i2 < groups.length; _i2++) {\n        groups[_i2].tableData.groupOrder = start + _i2;\n      }\n\n      this.sorted = this.grouped = false;\n    }\n  }, {\n    key: \"onColumnResized\",\n    value: function onColumnResized(id, additionalWidth) {\n      var column = this.columns.find(function (c) {\n        return c.tableData.id === id;\n      });\n      if (!column) return;\n      var nextColumn = this.columns.find(function (c) {\n        return c.tableData.id === id + 1;\n      });\n      if (!nextColumn) return; // console.log(\"S i: \" + column.tableData.initialWidth);\n      // console.log(\"S a: \" + column.tableData.additionalWidth);\n      // console.log(\"S w: \" + column.tableData.width);\n\n      column.tableData.additionalWidth = additionalWidth;\n      column.tableData.width = \"calc(\".concat(column.tableData.initialWidth, \" + \").concat(column.tableData.additionalWidth, \"px)\"); // nextColumn.tableData.additionalWidth = -1 * additionalWidth;\n      // nextColumn.tableData.width = `calc(${nextColumn.tableData.initialWidth} + ${nextColumn.tableData.additionalWidth}px)`;\n      // console.log(\"F i: \" + column.tableData.initialWidth);\n      // console.log(\"F a: \" + column.tableData.additionalWidth);\n      // console.log(\"F w: \" + column.tableData.width);\n    }\n  }, {\n    key: \"findGroupByGroupPath\",\n    value: function findGroupByGroupPath(renderData, path) {\n      var data = {\n        groups: renderData,\n        groupsIndex: this.rootGroupsIndex\n      };\n      var node = path.reduce(function (result, current) {\n        if (!result) {\n          return undefined;\n        }\n\n        if (result.groupsIndex[current] !== undefined) {\n          return result.groups[result.groupsIndex[current]];\n        }\n\n        return undefined; // const group = result.groups.find(a => a.value === current);\n        // return group;\n      }, data);\n      return node;\n    }\n  }, {\n    key: \"isDataType\",\n    value: function isDataType(type) {\n      var dataType = \"normal\";\n\n      if (this.parentFunc) {\n        dataType = \"tree\";\n      } else if (this.columns.find(function (a) {\n        return a.tableData.groupOrder > -1;\n      })) {\n        dataType = \"group\";\n      }\n\n      return type === dataType;\n    }\n  }, {\n    key: \"sort\",\n    value: function sort(a, b, type) {\n      if (type === \"numeric\") {\n        return a - b;\n      } else {\n        if (a !== b) {\n          // to find nulls\n          if (!a) return -1;\n          if (!b) return 1;\n        }\n\n        return a < b ? -1 : a > b ? 1 : 0;\n      }\n    }\n  }, {\n    key: \"sortList\",\n    value: function sortList(list) {\n      var _this4 = this;\n\n      var columnDef = this.columns.find(function (_) {\n        return _.tableData.id === _this4.orderBy;\n      });\n      var result = list;\n\n      if (columnDef.customSort) {\n        if (this.orderDirection === \"desc\") {\n          result = list.sort(function (a, b) {\n            return columnDef.customSort(b, a, \"row\", \"desc\");\n          });\n        } else {\n          result = list.sort(function (a, b) {\n            return columnDef.customSort(a, b, \"row\");\n          });\n        }\n      } else {\n        result = list.sort(this.orderDirection === \"desc\" ? function (a, b) {\n          return _this4.sort(_this4.getFieldValue(b, columnDef), _this4.getFieldValue(a, columnDef), columnDef.type);\n        } : function (a, b) {\n          return _this4.sort(_this4.getFieldValue(a, columnDef), _this4.getFieldValue(b, columnDef), columnDef.type);\n        });\n      }\n\n      return result;\n    }\n  }, {\n    key: \"groupData\",\n    value: function groupData() {\n      var _this5 = this;\n\n      this.sorted = this.paged = false;\n      this.groupedDataLength = 0;\n      var tmpData = (0, _toConsumableArray2.default)(this.searchedData);\n      var groups = this.columns.filter(function (col) {\n        return col.tableData.groupOrder > -1;\n      }).sort(function (col1, col2) {\n        return col1.tableData.groupOrder - col2.tableData.groupOrder;\n      });\n      var subData = tmpData.reduce(function (result, currentRow) {\n        var object = result;\n        object = groups.reduce(function (o, colDef) {\n          var value = currentRow[colDef.field] || (0, _2.byString)(currentRow, colDef.field);\n          var group;\n\n          if (o.groupsIndex[value] !== undefined) {\n            group = o.groups[o.groupsIndex[value]];\n          }\n\n          if (!group) {\n            var path = [].concat((0, _toConsumableArray2.default)(o.path || []), [value]);\n            var oldGroup = _this5.findGroupByGroupPath(_this5.groupedData, path) || {\n              isExpanded: typeof _this5.defaultExpanded === \"boolean\" ? _this5.defaultExpanded : false\n            };\n            group = {\n              value: value,\n              groups: [],\n              groupsIndex: {},\n              data: [],\n              isExpanded: oldGroup.isExpanded,\n              path: path\n            };\n            o.groups.push(group);\n            o.groupsIndex[value] = o.groups.length - 1;\n          }\n\n          return group;\n        }, object);\n        object.data.push(currentRow);\n        _this5.groupedDataLength++;\n        return result;\n      }, {\n        groups: [],\n        groupsIndex: {}\n      });\n      this.groupedData = subData.groups;\n      this.grouped = true;\n      this.rootGroupsIndex = subData.groupsIndex;\n    }\n  }, {\n    key: \"treefyData\",\n    value: function treefyData() {\n      var _this6 = this;\n\n      this.sorted = this.paged = false;\n      this.data.forEach(function (a) {\n        return a.tableData.childRows = null;\n      });\n      this.treefiedData = [];\n      this.treefiedDataLength = 0;\n      this.treeDataMaxLevel = 0; // if filter or search is enabled, collapse the tree\n\n      if (this.searchText || this.columns.some(function (columnDef) {\n        return columnDef.tableData.filterValue;\n      })) {\n        this.data.forEach(function (row) {\n          row.tableData.isTreeExpanded = false;\n        }); // expand the tree for all nodes present after filtering and searching\n\n        this.expandTreeForNodes(this.searchedData);\n      }\n\n      var addRow = function addRow(rowData) {\n        rowData.tableData.markedForTreeRemove = false;\n\n        var parent = _this6.parentFunc(rowData, _this6.data);\n\n        if (parent) {\n          parent.tableData.childRows = parent.tableData.childRows || [];\n\n          if (!parent.tableData.childRows.includes(rowData)) {\n            parent.tableData.childRows.push(rowData);\n            _this6.treefiedDataLength++;\n          }\n\n          addRow(parent);\n          rowData.tableData.path = [].concat((0, _toConsumableArray2.default)(parent.tableData.path), [parent.tableData.childRows.length - 1]);\n          _this6.treeDataMaxLevel = Math.max(_this6.treeDataMaxLevel, rowData.tableData.path.length);\n        } else {\n          if (!_this6.treefiedData.includes(rowData)) {\n            _this6.treefiedData.push(rowData);\n\n            _this6.treefiedDataLength++;\n            rowData.tableData.path = [_this6.treefiedData.length - 1];\n          }\n        }\n      }; // Add all rows initially\n\n\n      this.data.forEach(function (rowData) {\n        addRow(rowData);\n      });\n\n      var markForTreeRemove = function markForTreeRemove(rowData) {\n        var pointer = _this6.treefiedData;\n        rowData.tableData.path.forEach(function (pathPart) {\n          if (pointer.tableData && pointer.tableData.childRows) {\n            pointer = pointer.tableData.childRows;\n          }\n\n          pointer = pointer[pathPart];\n        });\n        pointer.tableData.markedForTreeRemove = true;\n      };\n\n      var traverseChildrenAndUnmark = function traverseChildrenAndUnmark(rowData) {\n        if (rowData.tableData.childRows) {\n          rowData.tableData.childRows.forEach(function (row) {\n            traverseChildrenAndUnmark(row);\n          });\n        }\n\n        rowData.tableData.markedForTreeRemove = false;\n      }; // for all data rows, restore initial expand if no search term is available and remove items that shouldn't be there\n\n\n      this.data.forEach(function (rowData) {\n        if (!_this6.searchText && !_this6.columns.some(function (columnDef) {\n          return columnDef.tableData.filterValue;\n        })) {\n          if (rowData.tableData.isTreeExpanded === undefined) {\n            var isExpanded = typeof _this6.defaultExpanded === \"boolean\" ? _this6.defaultExpanded : _this6.defaultExpanded(rowData);\n            rowData.tableData.isTreeExpanded = isExpanded;\n          }\n        }\n\n        var hasSearchMatchedChildren = rowData.tableData.isTreeExpanded;\n\n        if (!hasSearchMatchedChildren && _this6.searchedData.indexOf(rowData) < 0) {\n          markForTreeRemove(rowData);\n        }\n      }); // preserve all children of nodes that are matched by search or filters\n\n      this.data.forEach(function (rowData) {\n        if (_this6.searchedData.indexOf(rowData) > -1) {\n          traverseChildrenAndUnmark(rowData);\n        }\n      });\n\n      var traverseTreeAndDeleteMarked = function traverseTreeAndDeleteMarked(rowDataArray) {\n        for (var i = rowDataArray.length - 1; i >= 0; i--) {\n          var item = rowDataArray[i];\n\n          if (item.tableData.childRows) {\n            traverseTreeAndDeleteMarked(item.tableData.childRows);\n          }\n\n          if (item.tableData.markedForTreeRemove) rowDataArray.splice(i, 1);\n        }\n      };\n\n      traverseTreeAndDeleteMarked(this.treefiedData);\n      this.treefied = true;\n    }\n  }, {\n    key: \"sortData\",\n    value: function sortData() {\n      var _this7 = this;\n\n      this.paged = false;\n\n      if (this.isDataType(\"group\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.groupedData);\n        var groups = this.columns.filter(function (col) {\n          return col.tableData.groupOrder > -1;\n        }).sort(function (col1, col2) {\n          return col1.tableData.groupOrder - col2.tableData.groupOrder;\n        });\n\n        var sortGroups = function sortGroups(list, columnDef) {\n          if (columnDef.customSort) {\n            return list.sort(columnDef.tableData.groupSort === \"desc\" ? function (a, b) {\n              return columnDef.customSort(b.value, a.value, \"group\");\n            } : function (a, b) {\n              return columnDef.customSort(a.value, b.value, \"group\");\n            });\n          } else {\n            return list.sort(columnDef.tableData.groupSort === \"desc\" ? function (a, b) {\n              return _this7.sort(b.value, a.value, columnDef.type);\n            } : function (a, b) {\n              return _this7.sort(a.value, b.value, columnDef.type);\n            });\n          }\n        };\n\n        this.sortedData = sortGroups(this.sortedData, groups[0]);\n\n        var sortGroupData = function sortGroupData(list, level) {\n          list.forEach(function (element) {\n            if (element.groups.length > 0) {\n              var column = groups[level];\n              element.groups = sortGroups(element.groups, column);\n              sortGroupData(element.groups, level + 1);\n            } else {\n              if (_this7.orderBy >= 0 && _this7.orderDirection) {\n                element.data = _this7.sortList(element.data);\n              }\n            }\n          });\n        };\n\n        sortGroupData(this.sortedData, 1);\n      } else if (this.isDataType(\"tree\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.treefiedData);\n\n        if (this.orderBy != -1) {\n          this.sortedData = this.sortList(this.sortedData);\n\n          var sortTree = function sortTree(list) {\n            list.forEach(function (item) {\n              if (item.tableData.childRows) {\n                item.tableData.childRows = _this7.sortList(item.tableData.childRows);\n                sortTree(item.tableData.childRows);\n              }\n            });\n          };\n\n          sortTree(this.sortedData);\n        }\n      } else if (this.isDataType(\"normal\")) {\n        this.sortedData = (0, _toConsumableArray2.default)(this.searchedData);\n\n        if (this.orderBy != -1 && this.applySort) {\n          this.sortedData = this.sortList(this.sortedData);\n        }\n      }\n\n      this.sorted = true;\n    }\n  }, {\n    key: \"pageData\",\n    value: function pageData() {\n      this.pagedData = (0, _toConsumableArray2.default)(this.sortedData);\n\n      if (this.paging) {\n        var startIndex = this.currentPage * this.pageSize;\n        var endIndex = startIndex + this.pageSize;\n        this.pagedData = this.pagedData.slice(startIndex, endIndex);\n      }\n\n      this.paged = true;\n    }\n  }]);\n  return DataManager;\n}();\n\nexports.default = DataManager;"],"mappings":"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"},"metadata":{},"sourceType":"script"}