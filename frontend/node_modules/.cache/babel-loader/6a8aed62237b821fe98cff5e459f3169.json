{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useUtils } from './useUtils';\nimport { useOpenState } from './useOpenState';\nimport { getDisplayDate, validate } from '../../_helpers/text-field-helper';\nimport { useCallback, useDebugValue, useEffect, useMemo, useState, useRef } from 'react';\n\nvar useValueToDate = function useValueToDate(utils, _ref) {\n  var value = _ref.value,\n      initialFocusedDate = _ref.initialFocusedDate;\n  var nowRef = useRef(utils.date());\n  var date = utils.date(value || initialFocusedDate || nowRef.current);\n  return date && utils.isValid(date) ? date : nowRef.current;\n};\n\nfunction useDateValues(props, options) {\n  var utils = useUtils();\n  var date = useValueToDate(utils, props);\n  var format = props.format || options.getDefaultFormat();\n  return {\n    date: date,\n    format: format\n  };\n}\n\nexport function usePickerState(props, options) {\n  var autoOk = props.autoOk,\n      disabled = props.disabled,\n      onAccept = props.onAccept,\n      _onChange = props.onChange,\n      onError = props.onError,\n      value = props.value,\n      variant = props.variant;\n  var utils = useUtils();\n\n  var _useOpenState = useOpenState(props),\n      isOpen = _useOpenState.isOpen,\n      setIsOpen = _useOpenState.setIsOpen;\n\n  var _useDateValues = useDateValues(props, options),\n      date = _useDateValues.date,\n      format = _useDateValues.format;\n\n  var _useState = useState(date),\n      _useState2 = _slicedToArray(_useState, 2),\n      pickerDate = _useState2[0],\n      setPickerDate = _useState2[1];\n\n  useEffect(function () {\n    // if value was changed in closed state - treat it as accepted\n    if (!isOpen && !utils.isEqual(pickerDate, date)) {\n      setPickerDate(date);\n    }\n  }, [date, isOpen, pickerDate, utils]);\n  var acceptDate = useCallback(function (acceptedDate) {\n    setIsOpen(false);\n\n    _onChange(acceptedDate);\n\n    if (onAccept) {\n      onAccept(acceptedDate);\n    }\n  }, [onAccept, _onChange, setIsOpen]);\n  var wrapperProps = useMemo(function () {\n    return {\n      format: format,\n      open: isOpen,\n      onClear: function onClear() {\n        return acceptDate(null);\n      },\n      onAccept: function onAccept() {\n        return acceptDate(pickerDate);\n      },\n      onSetToday: function onSetToday() {\n        return setPickerDate(utils.date());\n      },\n      onDismiss: function onDismiss() {\n        setIsOpen(false);\n      }\n    };\n  }, [acceptDate, format, isOpen, pickerDate, setIsOpen, utils]);\n  var pickerProps = useMemo(function () {\n    return {\n      date: pickerDate,\n      onChange: function onChange(newDate) {\n        var isFinish = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        setPickerDate(newDate);\n\n        if (isFinish && autoOk) {\n          acceptDate(newDate);\n          return;\n        } // simulate autoOk, but do not close the modal\n\n\n        if (variant === 'inline' || variant === 'static') {\n          _onChange(newDate);\n\n          onAccept && onAccept(newDate);\n        }\n      }\n    };\n  }, [acceptDate, autoOk, onAccept, _onChange, pickerDate, variant]);\n  var validationError = validate(value, utils, props);\n  useEffect(function () {\n    if (validationError && onError) {\n      onError(validationError, value);\n    }\n  }, [onError, validationError, value]);\n  var inputValue = getDisplayDate(date, format, utils, value === null, props);\n  var inputProps = useMemo(function () {\n    return {\n      inputValue: inputValue,\n      validationError: validationError,\n      onClick: function onClick() {\n        return !disabled && setIsOpen(true);\n      }\n    };\n  }, [disabled, inputValue, setIsOpen, validationError]);\n  var pickerState = {\n    pickerProps: pickerProps,\n    inputProps: inputProps,\n    wrapperProps: wrapperProps\n  };\n  useDebugValue(pickerState);\n  return pickerState;\n}","map":{"version":3,"names":["_slicedToArray","useUtils","useOpenState","getDisplayDate","validate","useCallback","useDebugValue","useEffect","useMemo","useState","useRef","useValueToDate","utils","_ref","value","initialFocusedDate","nowRef","date","current","isValid","useDateValues","props","options","format","getDefaultFormat","usePickerState","autoOk","disabled","onAccept","_onChange","onChange","onError","variant","_useOpenState","isOpen","setIsOpen","_useDateValues","_useState","_useState2","pickerDate","setPickerDate","isEqual","acceptDate","acceptedDate","wrapperProps","open","onClear","onSetToday","onDismiss","pickerProps","newDate","isFinish","arguments","length","undefined","validationError","inputValue","inputProps","onClick","pickerState"],"sources":["E:/my git/react_hook_auth/frontend/node_modules/@material-ui/pickers/esm/_shared/hooks/usePickerState.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useUtils } from './useUtils';\nimport { useOpenState } from './useOpenState';\nimport { getDisplayDate, validate } from '../../_helpers/text-field-helper';\nimport { useCallback, useDebugValue, useEffect, useMemo, useState, useRef } from 'react';\n\nvar useValueToDate = function useValueToDate(utils, _ref) {\n  var value = _ref.value,\n      initialFocusedDate = _ref.initialFocusedDate;\n  var nowRef = useRef(utils.date());\n  var date = utils.date(value || initialFocusedDate || nowRef.current);\n  return date && utils.isValid(date) ? date : nowRef.current;\n};\n\nfunction useDateValues(props, options) {\n  var utils = useUtils();\n  var date = useValueToDate(utils, props);\n  var format = props.format || options.getDefaultFormat();\n  return {\n    date: date,\n    format: format\n  };\n}\n\nexport function usePickerState(props, options) {\n  var autoOk = props.autoOk,\n      disabled = props.disabled,\n      onAccept = props.onAccept,\n      _onChange = props.onChange,\n      onError = props.onError,\n      value = props.value,\n      variant = props.variant;\n  var utils = useUtils();\n\n  var _useOpenState = useOpenState(props),\n      isOpen = _useOpenState.isOpen,\n      setIsOpen = _useOpenState.setIsOpen;\n\n  var _useDateValues = useDateValues(props, options),\n      date = _useDateValues.date,\n      format = _useDateValues.format;\n\n  var _useState = useState(date),\n      _useState2 = _slicedToArray(_useState, 2),\n      pickerDate = _useState2[0],\n      setPickerDate = _useState2[1];\n\n  useEffect(function () {\n    // if value was changed in closed state - treat it as accepted\n    if (!isOpen && !utils.isEqual(pickerDate, date)) {\n      setPickerDate(date);\n    }\n  }, [date, isOpen, pickerDate, utils]);\n  var acceptDate = useCallback(function (acceptedDate) {\n    setIsOpen(false);\n\n    _onChange(acceptedDate);\n\n    if (onAccept) {\n      onAccept(acceptedDate);\n    }\n  }, [onAccept, _onChange, setIsOpen]);\n  var wrapperProps = useMemo(function () {\n    return {\n      format: format,\n      open: isOpen,\n      onClear: function onClear() {\n        return acceptDate(null);\n      },\n      onAccept: function onAccept() {\n        return acceptDate(pickerDate);\n      },\n      onSetToday: function onSetToday() {\n        return setPickerDate(utils.date());\n      },\n      onDismiss: function onDismiss() {\n        setIsOpen(false);\n      }\n    };\n  }, [acceptDate, format, isOpen, pickerDate, setIsOpen, utils]);\n  var pickerProps = useMemo(function () {\n    return {\n      date: pickerDate,\n      onChange: function onChange(newDate) {\n        var isFinish = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        setPickerDate(newDate);\n\n        if (isFinish && autoOk) {\n          acceptDate(newDate);\n          return;\n        } // simulate autoOk, but do not close the modal\n\n\n        if (variant === 'inline' || variant === 'static') {\n          _onChange(newDate);\n\n          onAccept && onAccept(newDate);\n        }\n      }\n    };\n  }, [acceptDate, autoOk, onAccept, _onChange, pickerDate, variant]);\n  var validationError = validate(value, utils, props);\n  useEffect(function () {\n    if (validationError && onError) {\n      onError(validationError, value);\n    }\n  }, [onError, validationError, value]);\n  var inputValue = getDisplayDate(date, format, utils, value === null, props);\n  var inputProps = useMemo(function () {\n    return {\n      inputValue: inputValue,\n      validationError: validationError,\n      onClick: function onClick() {\n        return !disabled && setIsOpen(true);\n      }\n    };\n  }, [disabled, inputValue, setIsOpen, validationError]);\n  var pickerState = {\n    pickerProps: pickerProps,\n    inputProps: inputProps,\n    wrapperProps: wrapperProps\n  };\n  useDebugValue(pickerState);\n  return pickerState;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}